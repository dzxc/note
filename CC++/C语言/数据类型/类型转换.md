#类型转换
在 C 语言程序中，经常需要对不同类型的数据进行运算，为了解决数据类型不一致的问题，需要对数 据的类型进行转换。例如一个浮点数和一个整数相加，必须先将两个数转换成同一类型。C 语言程序中的 类型转换可分为隐式和强制类型转换两种，具体如下。
### 隐式类型转换
所谓隐式类型转换指的是，系统自动将取值范围小的数据类型转换为数据取值范围大的数据类型，它 是由系统自动转换完成的。例如，将 int 类型和 double 类型的数据相加，系统会将 int 类型的数据转换为 double 类型的数据，再进行相加操作，具体示例如下:
    
    int num1=12;
    double num2=10.5;
    num1+num2;
    
在上述示例代码中，由于 double 类型的取值范围大于 int 类型，因此，将 int 类型的 num1 与 double 类型的 num2 相加时，系统会自动将 num1 的数据类型由 int 转换为 double 类型，从而保证数据的精度不会丢失。

### 强制类型转换
所谓强制类型转换指的是使用强制类型转换运算符，将一个变量或表达式转化成所需的类型，其基本 语法格式如下所示:
(类型名)(表达式)在上述格式中，类型名和表达式都需要用括号括起来，
具体示例如下:
   
    double x;
    int y;
    (double)(x+y) //将表达式 x+y 的值转换成 double 类型 
    (int)x+y //将变量 x 的值转换成 int 后,在与 y 相加
    
上述讲解的两种类型转换，看起来很简单，但在使用时有许多细节需要注意，具体如下: 
(1)浮点型与整型
将浮点数(单双精度)转换为整数时，将舍弃浮点数的小数部分，只保留整数部分。将整型值赋给浮点 型变量，数值不变，只将形式改为浮点形式，即小数点后带若干个 0。需要注意的是，赋值时的类型转换 实际上是强制的。
(2)单、双精度浮点型由于 C 语言中的浮点值总是用双精度表示的，所以 float 型数据参与运算时只需要在尾部加 0 延长为double 型数据。double 型数据转换为 float 型时，会造成数据精度丢失，有效位以外的数据将会进行四舍五 入。
    
    int num1 = 12;
    double num2 = 10.5;
    num1 + num2;
    double x;
    int y;
    (double)(x+y) //将表达式 x+y 的值转换成 double 类型 (int)x+y //将变量 x 的值转换成 int 后,在与 y 相加

(3)char 型与 int 型
将 int 型数值赋给 char 型变量时，只保留其最低 8 位，高位部分舍弃。将 char 型数值赋给 int 型变量时， 一些编译程序不管其值大小都作正数处理，而另一些编译程序在转换时会根据 char 型数据值的大小进行判断，若值大于 127，就作为负数处理。对于使用者来讲，如果原来 char 型数据取正值，转换后仍为正值。如果原来 char 型值可正可负，则转换后也仍然保持原值，只是数据 的内部表示形式有所不同。
(4)int 型与 long 型
long 型数据赋给 int 型变量时，将低 16 位值送给 int 型变量，而将高 16 位截断舍弃。(这里假定 int型占两个字节)。 将 int 型数据送给 long 型变量时，其外部值保持不变，而内部形式有所改变。 
(5)无符号整数将一个 unsigned 型数据赋给一个长度相同的整型变量时(如:unsigned→int、unsigned long→long， unsigned short→short) ，内部的存储方式不变，但外部值却可能改变。将一个非 unsigned 整型数据赋给一个长度相同的 unsigned 型变量时， 内部存储形式不变，但外部表 示时总是无符号的。