# volatile关键字
volatile是Java虚拟机提供的最轻量级的同步机制
**它只是一个同步机制而已，不是锁，不能代替锁的作用，但是在某些并发场景有比较好的同步效果。**

volatile的两个特性，第一就是保证共享变量对所有线程的可见性，

* 读取时，volatile从主内存内加载数据，
* 写入时，写入volatile变量时，Java内存模型会把该线程对应的本地内存中的变量强制刷新到主内存中去，而且**这个写会操作会导致其他线程中的缓存无效。使得其他线程重新加载volatile修饰的变量，实现同步**

关于volatile变量的特性，经常会被开发人员误解，让为以下描述成立: “volatile变量对所有线程是立即可见的，対volatile变量所有的写操作都能立刻反应到其他线程之中，换句话说 “volatile变量在各个线程中是一致的，所以基于volatile变量的运箕在并发下是安全的”。
volatile变量在各个线程的工作内存中不存在一致性问题（在各个线程的工作内存中，volatile变量也可以存在不一致的情况，但由于每次使用之前都要先刷新， 执行引擎看不到不一致的情况，因此可以认为不存在一致i问题），但是Java里面的运算井非原子操作导致volatile变量的运算在并发下一样是不安全的。
